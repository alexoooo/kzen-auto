
Document:
  abstract: true
  class: tech.kzen.auto.common.objects.document.DocumentArchetype
  title: "Document"
  directory: false
  meta:
    title: String
    icon: String
    objectLocation:
      is: ObjectLocation
      by: Self
    directory: Boolean


###########################################################

# TODO: factor out DocumentArchetype (concrete) vs DocumentRoot (concrete)

Script:
  abstract: true
  is: Document
  class: tech.kzen.auto.common.objects.document.script.ScriptDocument
  icon: PlaylistPlay
  steps: []
  meta:
    steps:
      is: List
      of: Action


################################################################


Graph:
  abstract: true
  is: Document
  class: tech.kzen.auto.common.objects.document.graph.GraphDocument
  icon: DeviceHub
  vertices: []
  edges: []
  meta:
    vertices:
      is: List
      of: Dataflow
    edges:
      is: List
      of: EdgeDescriptor
      by: EdgesDefiner


################################################################


Feature:
  abstract: true
  is: Document
  class: tech.kzen.auto.common.objects.document.feature.FeatureDocument
  title: "Action Target"
  icon: Crop
  directory: true
  meta:
    objectLocation:
      is: ObjectLocation
      by: Self
    documentNotation:
      is: DocumentNotation
      by: Self


################################################################


Process:
  abstract: true
  is: Document
  class: tech.kzen.auto.server.objects.process.ProcessDocument
  title: "Data Process"
  icon: TableChart
#  input: path/to/input.csv
  input: ./
  filter: {}
  pivot:
    rows: []
    values: {}
#  output: ../work/out.csv
  meta:
    input: String
    filter: FilterSpec
    pivot: PivotSpec
#    output: String


FilterSpec:
  abstract: true
  class: tech.kzen.auto.common.objects.document.process.FilterSpec
  meta:
    ref:
      by: FilterSpecDefiner


FilterSpecDefiner:
  class: tech.kzen.auto.common.objects.document.process.FilterSpec$Definer


PivotSpec:
  abstract: true
  class: tech.kzen.auto.common.objects.document.process.PivotSpec
  meta:
    ref:
      by: PivotSpecDefiner


PivotSpecDefiner:
  class: tech.kzen.auto.common.objects.document.process.PivotSpec$Definer
